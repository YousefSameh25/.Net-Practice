@model IEnumerable<Department>

@{
    ViewData["Title"] = "All Departments";
}

@if (TempData["Message"] is not null)
{
    <div id="div1" class="alert alert-success"> @TempData["Message"] </div>
}


<a asp-action="Create" class="btn btn-success"> Create New Department </a>

<br />
<br />

@{
    if (Model.Count() == 0)
    {
        <center> <h1 class="alert-warning"> There is no departments </h1> </center>
    }
    else
    {
        <h1> All Departments </h1>
        <br />
        <table class="table table-striped table-hover mt-3">
            <thead class="thead-dark">
                <tr>
                    <th scope="col"> @Html.DisplayNameFor(D => D.Code) </th>
                    <th scope="col"> @Html.DisplayNameFor(D => D.Name) </th>
                    <th scope="col"> @Html.DisplayNameFor(D => D.DateOfCreation) </th>

                    <th scope="col"> Details </th>
                    <th scope="col"> Update </th>
                    <th scope="col"> Delete </th>
                </tr>
            </thead>
            <tbody>
                @{
                    foreach (Department D in Model)
                    {
                        <tr>
                            <td> @D.Code </td>
                            <td> @D.Name </td>
                            <td> @D.DateOfCreation </td>

                            <partial name="ButtonsPartialView" model="@D.Id" />
                        </tr>
                    }
                }
            </tbody>
        </table>
    }
}

<script>
    setTimeout(function () {
        $('#div1').fadeOut('fast');
    }, 3000); // 3 Seconds
</script>

